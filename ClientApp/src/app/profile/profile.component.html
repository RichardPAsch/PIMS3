<header>
    - Profile for Asset -
</header>
<ul>
    <li>'Get Profile' - Fetch profile via web, for entered ticker symbol.</li>
    <li>'Get Saved Profile' - Fetch saved profile for entered ticker symbol.</li>
    <li>'Update Profile' - Update saved profile with current web-based 'Get Profile' data.</li>
    <li>Displayed 'Div.pay months' may be <em>approximations</em> & can be edited/updated via 'Update Profile'.</li>
    <li>'Create Profile' - Manually create a custom Profile for which no Profile data is available. </li>
    <li>Customized Profiles are accessible only to the investor who created them. </li>
</ul>

<div class="col-md-12" data-ng-app="incomeMgmt">
    <section class="panel panel-default" style="width:990px;">
        <div class="panel-heading">
            <strong>
                <span class="glyphicon glyphicon-th"></span>&nbsp;&nbsp;Asset profile attributes
            </strong>
            <strong>
                <span class="glyphicon glyphicon-time" id="lastUpdate">&nbsp;{{currentDateTime}}</span>
            </strong>
        </div>
        <div class="panel-body">

            <form class="form-horizontal ng-pristine ng-valid" role="form" [formGroup]="assetProfileForm" (ngSubmit)="createProfile()">

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="tickerSymbol">Ticker symbol:</label>
                    <div class="col-sm-2">
                        <input class="form-control" oninput="this.value = this.value.toUpperCase()" id="tickerSymbol" formControlName="ticker" placeholder="Enter ticker"  />
                    </div>
                    <label class="col-sm-2 control-label" for="divRate">Dividend rate ($):</label>
                    <div class="col-sm-2">
                        <input class="form-control" formControlName="divRate" id="divRate" [readonly]="isReadOnly">
                    </div>
                    <label class="col-sm-2 control-label" for="divYield">Dividend yield (%):</label>
                    <div class="col-sm-2">
                        <input class="form-control" formControlName="divYield" id="divYield" [readonly]="isReadOnly">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="tickerDesc">Ticker description:</label>
                    <div class="col-sm-2">
                        <input class="form-control" id="tickerDesc" formControlName="tickerDesc"  [readonly]="isReadOnly" maxlength="50" placeholder="NYSE description - 50 characters max.">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="divFreq">Dividend frequency:</label>
                    <div class="col-sm-2">
                        <input class="form-control" id="divFreq" formControlName="divFreq" placeholder="A,S,Q,M" data-ng-model="vm.assetDivFreq" [readonly]="isReadOnly">
                        <div *ngIf="btnNewProfileSubmitted && formFields.divFreq.invalid && (formFields.divFreq.dirty || formFields.divFreq.touched)" class="alert alert-danger">
                            <div *ngIf="formFields.divFreq.errors.maxlength"> Frequency can't exceed 1 character.</div>
                            <div *ngIf="formFields.divFreq.errors.required"> Frequency required.</div>
                            <div *ngIf="formFields.divFreq.errors.divFreq"> Allowed frequency values: (A)nnual/(S)emi-annual/(Q)uarterly/(M)onthly.</div>
                        </div>
                        <!--<p>Form Status: {{ assetProfileForm.status }}</p>-->
                        <!--<p>Field value: {{ formFields.divFreq.value }}</p>-->
                    </div>
                    <label class="col-sm-2 control-label" for="peRatio">Price/Earnings:</label>
                    <div class="col-sm-2">
                        <input class="form-control" formControlName="peRatio" id="peRatio" [readonly]="isReadOnly">
                    </div>
                    <label class="col-sm-2 control-label" for="eps">Earnings/Share ($):</label>
                    <div class="col-sm-2">
                        <input class="form-control" formControlName="eps" id="eps" [readonly]="isReadOnly">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="unitPrice">Unit Price ($):</label>
                    <div class="col-sm-2">
                        <input class="form-control" formControlName="unitPrice" id="unitPrice" [readonly]="isReadOnly">
                    </div>
                    <label class="col-sm-2 control-label" for="divPayMonths">Div. pay months:</label>
                    <div class="col-sm-2">
                        <input class="form-control" formControlName="divPayMonths" id="divPayMonths" [readonly]="isReadOnlyPayMonthsAndDay" placeholder="3,6">
                    </div>
                    <label class="col-sm-2 control-label" for="divPayDay">Dividend pay day:</label>
                    <div class="col-sm-2">
                        <input class="form-control" id="divPayDay" formControlName="divPayDay" [readonly]="isReadOnlyPayMonthsAndDay">
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-10 col-md-offset-2">
                        <span>
                            <button id="btnProfile" style="width: 130px;" (click)="getProfile()">
                                Get Profile
                            </button>
                            <button id="btnSavedProfile" style="width: 130px;" (click)="getDbProfile()">
                                Get Saved Profile
                            </button>
                            <button id="btnUpdateProfile" style="width: 130px;" (click)="updateProfile()" [disabled]="btnUpdateProfileIsDisabled">
                                Update Profile
                            </button>
                            <button id="btnNewProfile" (click)="createProfile()" [disabled]="btnNewProfileIsDisabled">
                                Create Profile
                            </button>
                        </span>

                    </div>
                </div>

            </form>

        </div>
    </section>

</div>



